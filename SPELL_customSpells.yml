# -----------------------------------
# Custom Minecraft 'Spells'
# Author: Tyler J. Sawyer
# Version: 1.1
# Last Updated: 13:34 on April 25, 2014 (Friday)
# -----------------------------------
# Custom 'spells' that users can create using custom items.
# Requires certain custom 'rune' items that are also generated in
# this script and dropped randomly throughout the world.

# -----------------------------------
# SPELL CRAFTING MATERIALS
# Runes and Pages

"rune1":
   type: item
   material: 402
   display name: "Rune of Alteration"
   lore:
   - <yellow>Used to craft powerful spells.

"rune2":
   type: item
   material: 402
   display name: "Rune of Abjuration"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune3":
   type: item
   material: 402
   display name: "Rune of Conjuration"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune4":
   type: item
   material: 402
   display name: "Rune of Divination"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune5":
   type: item
   material: 402
   display name: "Rune of Evocation"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune6":
   type: item
   material: 402
   display name: "Rune of Flame"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune7":
   type: item
   material: 402
   display name: "Rune of Air"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune8":
   type: item
   material: 402
   display name: "Rune of Earth"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune9":
   type: item
   material: 402
   display name: "Rune of Water"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune10":
   type: item
   material: 402
   display name: "Rune of Ice"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune11":
   type: item
   material: 402
   display name: "Rune of Power"
   lore:
   - <yellow>Used to craft powerful spells.
   
"rune12":
   type: item
   material: 402
   display name: "Rune of Concentration"
   lore:
   - <yellow>Used to craft powerful spells.

"words1":
   type: item
   material: 339
   display name: "Words of Agony"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words2":
   type: item
   material: 339
   display name: "Words of Power"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words3":
   type: item
   material: 339
   display name: "Words of Destruction"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words4":
   type: item
   material: 339
   display name: "Words of Doom"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words5":
   type: item
   material: 339
   display name: "Words of Bidding"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words6":
   type: item
   material: 339
   display name: "Words of Divination"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words7":
   type: item
   material: 339
   display name: "Words of Enchantment"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words8":
   type: item
   material: 339
   display name: "Words of Endurance"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words9":
   type: item
   material: 339
   display name: "Words of Lust"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words10":
   type: item
   material: 339
   display name: "Words of Rage"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words11":
   type: item
   material: 339
   display name: "Words of Harming"
   lore:
   - <yellow>Used to craft powerful spells.
   
"words12":
   type: item
   material: 339
   display name: "Words of Time"
   lore:
   - <yellow>Used to craft powerful spells.
   
   
# -----------------------------------
# SPELL ITEMS AND RECIPES
# The actual 'spell' items.

"spell1":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Light Heal"
   recipe:
    - air|i@rune1|air
    - i@words8|i@340|i@words8
    - air|i@rune1|air
   lore:
   - <green>Heals your target for 1 heart.
   - <red>Cooldown<&co> 10 seconds.
   - <&9>Costs 2 saturation to use cast.
   enchantments:
   - durability:1
   
"spell1Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Light Heal" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 2 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell1 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell1 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell1 reuse || false>" == false {
         - narrate "<&9>You heal 2 of your hitpoints."
         - narrate "<&9>You feel better."
         - heal 2
         - feed -2
         - playeffect location:<player.location> effect:potion_break qty:15 data:5
         - flag player "spell1 reuse:true" duration:10
         - flag player "SPELL_GCD" duration:2
         }
     on player right clicks entity:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Light Heal" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 2 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell1 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell1 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell1 reuse || false>" == false {
         - if <context.entity.is_player> {
           - narrate targets:<context.entity> "<&9><player.name> heals you for 2 hitpoints."
           - narrate targets:<context.entity> "<&9>You feel better." }
         - narrate "<&9>You heal <context.entity.name> for 2 hitpoints."
         - heal 2 target:<context.entity>
         - feed -2
         - playeffect location:<context.entity.location> effect:potion_break qty:15 data:5
         - flag player "spell1 reuse:true" duration:10
         - flag player "SPELL_GCD" duration:2
         }
         
"spell2":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Burst of Flame"
   recipe:
    - air|i@rune5|air
    - i@words1|i@340|i@words1
    - air|i@rune5|air
   lore:
   - <green>Burns your target for 4 damage.
   - <red>Cooldown<&co> 5 seconds.
   - <&9>Costs 4 saturation to use cast.
   enchantments:
   - durability:1
   
"spell2Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Burst of Flame" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell2 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell2 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell2 reuse || false>" == false {
         - narrate "<&9>You burn yourself for 4 damage!"
         - narrate "<&9>You feel your skin tingle as it ignites."
         - hurt 4
         - feed -4
         - playeffect location:<player.location> effect:lava qty:50
         - flag player "spell2 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
     on player right clicks entity:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Burst of Flame" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell2 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell2 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell2 reuse || false>" == false {
         - if <context.entity.is_player> {
           - narrate targets:<context.entity> "<&9>You are burned for 4 damage!"
           - narrate targets:<context.entity> "<&9>You feel your skin tingle as <player.name> ignites it." }
         - narrate "<&9>You burn <context.entity.name> for 4 damage."
         - hurt 4 target:<context.entity>
         - feed -4
         - playeffect location:<context.entity.location> effect:lava qty:50
         - flag player "spell2 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
         
"spell3":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Blindness"
   recipe:
    - air|i@rune4|air
    - i@words4|i@340|i@words4
    - air|i@rune4|air
   lore:
   - <green>Blinds your target for 20 seconds.
   - <red>Cooldown<&co> 5 seconds.
   - <&9>Costs 4 saturation to use cast.
   enchantments:
   - durability:1
   
"spell3Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Blindness" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell3 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell3 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell3 reuse || false>" == false {
         - narrate "<&9>You blind yourself!"
         - cast blindness duration:20 power:5
         - feed -4
         - playeffect location:<player.location> effect:large_smoke qty:100
         - flag player "spell3 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
     on player right clicks entity:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Blindness" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell3 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell3 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell3 reuse || false>" == false {
         - if <context.entity.is_player> {
           - narrate targets:<context.entity> "<&9>You are blinded by <player.name>!" }
         - narrate "<&9>You blind <context.entity.name>."
         - cast blindness target:<context.entity> duration:20 power:5
         - feed -4
         - playeffect location:<context.entity.location> effect:large_smoke qty:100
         - flag player "spell3 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }

"spell4":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Ensnare"
   recipe:
    - air|i@rune3|air
    - i@words5|i@340|i@words5
    - air|i@rune3|air
   lore:
   - <green>Snares your target for 20 seconds.
   - <red>Cooldown<&co> 5 seconds.
   - <&9>Costs 4 saturation to use cast.
   enchantments:
   - durability:1
   
"spell4Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Ensnare" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell4 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell4 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell4 reuse || false>" == false {
         - narrate "<&9>You snare yourself!"
         - cast slow duration:20 power:2
         - feed -4
         - playeffect location:<player.location> effect:slime qty:500 offset:0
         - flag player "spell4 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
     on player right clicks entity:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Ensnare" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 4 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell4 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell4 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell4 reuse || false>" == false {
         - if <context.entity.is_player> {
           - narrate targets:<context.entity> "<&9>You are snared by <player.name>!" }
         - narrate "<&9>You snare <context.entity.name>."
         - cast slow target:<context.entity> duration:20 power:2
         - feed -4
         - playeffect location:<context.entity.location> effect:slime qty:500 offset:0
         - flag player "spell4 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
         
"spell5":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Tangling Roots"
   recipe:
    - air|i@rune8|air
    - i@words5|i@340|i@words5
    - air|i@rune8|air
   lore:
   - <green>Roots your target to the ground for 20 seconds.
   - <red>Cooldown<&co> 10 seconds.
   - <&9>Costs 6 saturation to use cast.
   enchantments:
   - durability:1
   
"spell5Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Tangling Roots" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 6 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell5 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell5 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell5 reuse || false>" == false {
         - narrate "<&9>You root yourself to the ground!"
         - cast slow duration:20 power:10
         - feed -6
         - playeffect location:<player.location> effect:slime qty:500 offset:0
         - flag player "spell5 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
     on player right clicks entity:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Tangling Roots" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 6 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell5 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell5 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell5 reuse || false>" == false {
         - if <context.entity.is_player> {
           - narrate targets:<context.entity> "<&9>You are rooted to the ground by <player.name>!" }
         - narrate "<&9>You root <context.entity.name> to the ground."
         - cast slow target:<context.entity> duration:20 power:10
         - feed -6
         - playeffect location:<context.entity.location> effect:slime qty:500 offset:0
         - flag player "spell5 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }
         
"spell6":
   type: item
   material: 339
   display name: "<yellow>Spell<&co> Firestorm"
   recipe:
    - air|i@rune6|air
    - i@words11|i@340|i@words11
    - air|i@rune6|air
   lore:
   - <green>Burns all nearby targets for 8 damage.
   - <red>Cooldown<&co> 20 seconds.
   - <&9>Costs 8 saturation to use cast.
   enchantments:
   - durability:1
   
"spell6Effect":
   type: world
   events:
     on player right clicks:
        - if <player.item_in_hand.display> != "<yellow>Spell<&co> Firestorm" queue clear
        - if <player.flag[SPELL_GCD]> queue clear
        - if <player.food_level> < 8 {
          - narrate "<&9>You do not have enough saturation to cast that spell!"
          - queue clear
          }
        - if "<flag.p:spell6 reuse || false>" == true {
          - narrate "<&9>You must wait <flag.p:spell5 reuse.expiration> before you can use that item again."
          } 
        - if "<flag.p:spell6 reuse || false>" == false {
         - narrate "<&9>You summon a firestorm!"
         - foreach <l@<player.location>.find.entities.within[<15>].aslist> {
           - if %value% != <player> {
             - if <%value%.is_player> narrate targets:%value% "<&9><player.name> burns you for 8 damage."
             - narrate "<&9>Your firestorm burns <%value%.name> for 8 damage."
             - hurt 8 target:%value%
             }
           }
         - feed -8
         - playeffect location:<player.location> effect:slime qty:500 offset:0
         - flag player "spell6 reuse:true" duration:5
         - flag player "SPELL_GCD" duration:2
         }