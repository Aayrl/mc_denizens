# Custom Combat Text
# Tyler J. Sawyer
# 4-7-14
# Defines custom combat text when fighting players or mobs..


"DamagerContext":
  type: world
  events:
    on entity damaged by player:
      - if <player.flag[cmbt_txt_cd_dmg]> queue clear
      - flag player cmbt_txt_cd_dmg duration:0.5s
      - if <context.damager.is_player> narrate targets:<context.damager> "<&6>You hit <context.entity.name> for <context.damage.asint> damage!"
    on player damaged by entity:
      - if <player.flag[cmbt_txt_cd_hit]> queue clear
      - flag player cmbt_txt_cd_hit duration:0.5s
      - if <context.damager.is_player> == false narrate targets:<context.damager> "<red>You were hit by <context.damager.name> for <context.damage.asint> damage!"
    on player damaged by player:
      - if <player.flag[cmbt_txt_cd_pvp]> queue clear
      - flag player cmbt_txt_cd_pvp duration:0.5s
      - if <context.damager.is_player> narrate targets:<context.entity> "<red>You were hit by <context.damager.name> for <context.damage.asint> damage!"
    on entity death:
     - if <player.flag[cmbt_txt_cd_die]> queue clear
     - flag player cmbt_txt_cd_die duration:0.5s
     - if <context.damager.is_player> narrate targets:<context.damager> "<&6>You have slain <context.entity.name>!"